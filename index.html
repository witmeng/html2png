<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>正面管教 - 和善而坚定</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #fdf6e3; /* 温馨米黄色背景 */
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .page-container {
            width: 1104px;
            height: 1472px;
            background-color: #fffaf0; /* 象牙白页面背景 */
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 20px; /* 仅为预览时页面间隔，实际下载图片无此间隔 */
            overflow: hidden; /* 确保内容不溢出 */
            display: flex;
            flex-direction: column;
            padding: 40px;
            box-sizing: border-box;
            position: relative;
        }

        /* 首页特殊布局 */
        .page-1 {
            justify-content: flex-start; /* 从顶部开始 */
            align-items: center; /* 水平居中 */
            text-align: center;
        }
        .page-1 h1 {
            font-size: 100px; /* 特大字号 */
            font-weight: 700;
            color: #d2691e; /* 巧克力色 */
            margin-top: 60px;
            margin-bottom: 10px;
            line-height: 1.2;
        }
        .page-1 h2 {
            font-size: 36px; /* 小字号 */
            font-weight: 400;
            color: #8b4513; /* 鞍褐色 */
            margin-bottom: 40px;
        }
        .page-1 .cover-image-container {
            width: 500px;
            height: 500px;
            overflow: hidden; /* 确保图片不超出容器 */
        }
        .page-1 .page-illustration {
            width: 500px;
            height: 500px;
            object-fit: cover;
            border-radius: 20px;
        }

        /* 其他页面通用布局 */
        .page-content h2 {
            font-size: 48px;
            font-weight: 700;
            color: #d2691e;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
        }
        .page-content h2 svg {
            width: 40px;
            height: 40px;
            margin-right: 15px;
            color: #d2691e;
        }
        .page-content p, .page-content li {
            font-size: 28px;
            line-height: 1.8;
            color: #5a3d2b; /* 深棕色文字 */
            margin-bottom: 20px;
        }
        .page-content ul {
            list-style: none;
            padding-left: 0;
        }
        .page-content li {
            display: flex;
            align-items: flex-start; /* 图标和文字顶部对齐 */
            margin-bottom: 25px;
        }
        .page-content li svg {
            width: 28px;
            height: 28px;
            margin-right: 12px;
            color: #ff8c00; /* 暗橙色图标 */
            flex-shrink: 0; /* 防止图标被压缩 */
            margin-top: 6px; /* 微调图标垂直位置 */
        }

        .highlight {
            background-color: rgba(255, 218, 185, 0.6); /* 淡橘色半透明 */
            padding: 0.2em 0.5em;
            border-radius: 8px;
            font-weight: 500; /* 中等加粗 */
            border-bottom: 2px solid rgba(233, 150, 122, 0.7); /* 暗肉色下划线 */
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .page-illustration {
            max-width: 100%; /* 确保图片不超过页面宽度 */
            height: auto;    /* 保持图片比例 */
            border-radius: 15px;
            margin: 20px auto; /* 上下边距，自动左右居中 */
            display: block;
            object-fit: cover; /* Ensure images cover their designated space if dimensions are set */
        }
        .flex-layout {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-top: 30px;
        }
        .flex-layout .text-content {
            flex: 1;
        }
        .flex-layout .image-content {
            flex-shrink: 0;
            /* Define fixed width/height for image containers if needed, or use max-width/max-height on images */
        }
        .flex-layout .image-content img { /* Target images within this specific layout */
           /* Example: Force specific dimensions or aspect ratio */
           /* width: 450px; */
           /* height: 380px; */
           /* object-fit: cover; */
        }
        .quote-paragraph {
            font-size: 26px;
            font-style: italic;
            color: #8b5a2b; /* 棕褐色引用 */
            padding: 20px;
            margin: 30px 0;
            border-left: 5px solid #ffdead; /* 纳瓦白 */
            background-color: rgba(255, 250, 240, 0.5); /* 非常淡的象牙白 */
            border-radius: 0 8px 8px 0;
        }
        .quote-paragraph span {
            font-weight: bold;
            display: block;
            text-align: right;
            margin-top: 10px;
            font-size: 22px;
        }

        #downloadBtn {
            background-color: #d2691e; /* 巧克力色 */
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 20px;
            cursor: pointer;
            margin-top: 30px;
            transition: background-color 0.3s ease;
        }
        #downloadBtn:hover {
            background-color: #a0522d; /* 赭色 */
        }
    </style>
</head>
<body>

    <!-- 页面1: 封面 -->
    <div class="page-container page-1">
        <h1>和善养育<br>+<br>坚定管教</h1>
        <h2>《正面管教》核心智慧：培养自信独立娃</h2>
        <div class="cover-image-container">
            <img src="https://picsum.photos/500/500?random=1" alt="封面图片：一对猫咪父母温馨地看着他们的小猫咪宝宝" class="page-illustration">
        </div>
        <p style="font-size: 20px; color: #8b4513; margin-top: auto; padding-bottom: 20px;">和善与坚定，并行不悖，成就孩子最好的未来。</p>
    </div>

    <!-- 页面2: 理解和善与坚定 -->
    <div class="page-container page-2">
        <div class="page-content">
            <h2><i data-feather="coffee"></i>什么是“和善而坚定”？</h2>
            <p>“和善而坚定”是正面管教的基石，它不是一种折中，而是一种<span class="highlight">充满智慧的平衡艺术</span>。</p>
            <div class="flex-layout">
                <div class="text-content">
                    <p><span class="highlight">和善 (Kindness)</span>：意味着尊重孩子，理解他们的感受和发展阶段。它传递的是无条件的爱和接纳，让孩子感到安全和被理解。想象一下，猫妈妈温柔地舔舐小猫，即使小猫犯了错。</p>
                    <p><span class="highlight">坚定 (Firmness)</span>：意味着尊重自己和情境的需要。它帮助我们清晰地设定界限、执行规则，并教会孩子责任感和合作。就像猫爸爸会用温和但不可置疑的姿态，阻止小猫进行危险的游戏。</p>
                </div>
                <div class="image-content">
                     <img src="https://s.coze.cn/t/hdAPqsdqvVs/" alt="猫咪父母温柔且坚定地与小猫沟通" class="page-illustration" style="width: 450px; height: 380px;">
                </div>
            </div>
            <p class="quote-paragraph">“真正的权威，来自于爱与榜样，而非恐惧与强迫。”<span>—— 简·尼尔森《正面管教》</span></p>
        </div>
    </div>

    <!-- 页面3: 为什么要和善而坚定 -->
    <div class="page-container page-3">
        <div class="page-content">
            <h2><i data-feather="bar-chart-2"></i>为什么要“和善而坚定”？</h2>
            <p>传统的管教方式，要么过于严厉（导致孩子叛逆或恐惧），要么过于骄纵（导致孩子缺乏界限感）。“和善而坚定”则致力于<span class="highlight">培养孩子长期的生活技能和社会情感能力</span>。</p>
            <ul>
                <li><i data-feather="check-circle"></i><strong>培养内在驱动力：</strong>孩子在被尊重和理解的环境中，更愿意合作，发展自律。</li>
                <li><i data-feather="users"></i><strong>建立亲密关系：</strong>和善的态度让亲子关系更牢固，孩子更愿意向父母敞开心扉。</li>
                <li><i data-feather="shield"></i><strong>塑造健康人格：</strong>坚定的界限教会孩子责任感和尊重规则，同时感受到安全。</li>
                <li><i data-feather="trending-up"></i><strong>着眼长期效果：</strong>它不仅仅是制止不良行为，更是<span class="highlight">赋能孩子成为有能力、有贡献的社会成员</span>。</li>
            </ul>
             <img src="https://s.coze.cn/t/ZHxe218s_p8/" alt="猫咪家庭和谐互动的场景，小猫在父母的引导下学习" class="page-illustration" style="max-height: 350px; width: 600px; height: 400px;">
            <p>想象一下，小猫咪在父母温和的引导下，学会了如何安全地爬树，而不是因为害怕惩罚而不敢尝试，也不是因为无人管教而摔伤。</p>
        </div>
    </div>

    <!-- 页面4: “和善”的实践 -->
    <div class="page-container page-4">
        <div class="page-content">
            <h2><i data-feather="heart"></i>如何做到“和善”？</h2>
            <p>和善不仅仅是语气温柔，更是一种发自内心的尊重和理解。以下是一些实践方法：</p>
            <div class="flex-layout">
                <div class="image-content">
                    <img src="https://s.coze.cn/t/naCzNrj8Erg/" alt="猫妈妈温柔地拥抱或倾听小猫" class="page-illustration" style="max-height: 450px; width: 400px; height: 500px;">
                </div>
                <div class="text-content">
                    <ul>
                        <li><i data-feather="mic"></i><strong>积极倾听：</strong>蹲下来，看着孩子的眼睛，认真听他们说什么，<span class="highlight">理解行为背后的感受和需求</span>。</li>
                        <li><i data-feather="smile"></i><strong>共情与确认感受：</strong>“我知道你现在很生气，因为...”帮助孩子识别和表达情绪。</li>
                        <li><i data-feather="message-square"></i><strong>使用“我”信息：</strong>表达自己的感受和需求，而非指责孩子。“我看到玩具没有收拾，我感到有点担心会绊倒人。”</li>
                        <li><i data-feather="thumbs-up"></i><strong>关注优点和进步：</strong>及时给予鼓励和肯定，让孩子感受到自己的价值。</li>
                    </ul>
                </div>
            </div>
            <p class="quote-paragraph">“我们对待孩子的方式，会成为他们内心的声音。”<span>—— 帕梅拉·利奥</span></p>
        </div>
    </div>

    <!-- 页面5: “坚定”的实践 -->
    <div class="page-container page-5">
        <div class="page-content">
            <h2><i data-feather="anchor"></i>如何做到“坚定”？</h2>
            <p>坚定不是严厉或控制，而是清晰、一致和尊重。它帮助孩子了解行为的界限和后果。</p>
             <img src="https://s.coze.cn/t/1tklehLKea4/" alt="猫爸爸清晰地设定界限，同时表情温和" class="page-illustration" style="max-height: 330px; width: 700px; height: 350px;">
            <ul>
                <li><i data-feather="flag"></i><strong>设定清晰的界限：</strong>和孩子一起讨论并制定家庭规则，确保规则合理且孩子能理解。</li>
                <li><i data-feather="repeat"></i><strong>保持一致性：</strong>规则一旦设立，就要<span class="highlight">坚持执行</span>，避免时紧时松。</li>
                <li><i data-feather="zap"></i><strong>关注于解决方案：</strong>当孩子犯错时，引导他们思考如何弥补，而不是简单惩罚。“玩具弄坏了，我们一起想想怎么修理它，或者下次怎么玩可以避免？”</li>
                <li><i data-feather="shield-check"></i><strong>言出必行：</strong>说到做到，这能建立父母的威信和孩子的信任感。例如，如果说好玩完电脑要关机，就温和而坚定地执行。</li>
            </ul>
            <p>记住，坚定是为了<span class="highlight">教会孩子对自己行为负责</span>，并尊重他人和环境。</p>
        </div>
    </div>

    <!-- 页面6: 总结与行动 -->
    <div class="page-container page-6">
        <div class="page-content">
            <h2><i data-feather="gift"></i>“和善而坚定”的礼物</h2>
            <p>将“和善而坚定”融入日常育儿，就像给孩子播下一颗充满韧性的种子，它将带来长远的美好果实：</p>
            <div class="flex-layout">
                <div class="text-content">
                    <ul>
                        <li><i data-feather="award"></i><strong>自信的孩子：</strong>感受到被爱和尊重，他们更敢于尝试和表达。</li>
                        <li><i data-feather="link"></i><strong>负责任的孩子：</strong>理解行为的后果，学会为自己的选择负责。</li>
                        <li><i data-feather="users"></i><strong>合作的孩子：</strong>在解决问题的过程中学会与人合作。</li>
                        <li><i data-feather="key"></i><strong>拥有解决问题能力的孩子：</strong><span class="highlight">从错误中学习，找到积极的应对方法</span>。</li>
                        <li><i data-feather="home"></i><strong>更和谐的家庭氛围：</strong>减少权力之争，增进理解和爱。</li>
                    </ul>
                    <p>这是一段需要耐心和学习的旅程。猫爸猫妈们，从小事做起，<span class="highlight">每天进步一点点</span>，你会发现和善与坚定并不矛盾，它们是培养优秀孩子的最佳搭档！</p>
                </div>
                <div class="image-content">
                    <img src="https://s.coze.cn/t/8VhGuUPBB_8/" alt="小猫自信地探索世界，猫父母在旁欣慰鼓励" class="page-illustration" style="max-height: 550px; width: 450px; height: 600px;">
                </div>
            </div>
            <p class="quote-paragraph">“教育的目标是培养有能力感知、思考、判断并自主行动的人。”<span>—— 卡尔·罗杰斯</span></p>
        </div>
    </div>

    <button id="downloadBtn">一键下载所有页面</button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
        feather.replace();

        function sanitizeFilename(filename) {
            // 移除或替换文件名中不被操作系统允许的特殊字符
            const illegalRe = /[\/\?<>\\:\*\|":]/g;
            const controlRe = /[\x00-\x1f\x80-\x9f]/g;
            const reservedRe = /^\.+$/;
            const windowsReservedRe = /^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i;
            const windowsTrailingRe = /[\. ]+$/;

            let sanitized = filename
                .replace(illegalRe, '_')
                .replace(controlRe, '_')
                .replace(reservedRe, '_')
                .replace(windowsReservedRe, '_')
                .replace(windowsTrailingRe, '_')
                .replace(/\s+/g, '_'); // 将空格替换为下划线
            return sanitized.substring(0, 200); // 限制文件名长度
        }

        const downloadBtn = document.getElementById('downloadBtn');
        downloadBtn.addEventListener('click', async () => {
            const pages = document.querySelectorAll('.page-container');
            const originalButtonText = downloadBtn.textContent;
            downloadBtn.textContent = '正在生成图片...';
            downloadBtn.disabled = true;

            for (let i = 0; i < pages.length; i++) {
                const page = pages[i];
                // 尝试从页面标题或核心内容提取文件名
                let pageTitle = '';
                const h1 = page.querySelector('h1');
                const h2 = page.querySelector('h2');
                
                if (i === 0 && h1 && h1.innerText.trim()) { // 首页标题
                    pageTitle = h1.innerText.trim().split('\n')[0];
                } else if (h2 && h2.innerText.trim()) {
                    pageTitle = h2.innerText.trim();
                } else {
                    pageTitle = `页面内容${i+1}`; // 默认名
                }
                
                const cleanPageTitle = sanitizeFilename(pageTitle);
                let filename = '';
                if (i === 0) {
                    filename = `首页 - ${cleanPageTitle}.png`;
                } else {
                    filename = `page${i + 1} - ${cleanPageTitle}.png`;
                }

                try {
                    const canvas = await html2canvas(page, {
                        scale: 2,
                        backgroundColor: '#fffaf0', // 与页面背景一致
                        width: page.offsetWidth,
                        height: page.offsetHeight,
                        windowWidth: document.documentElement.scrollWidth,
                        windowHeight: document.documentElement.scrollHeight,
                        useCORS: true, // 如果图片来自其他域
                        logging: false
                    });
                    const dataURL = canvas.toDataURL('image/png');
                    const link = document.createElement('a');
                    link.href = dataURL;
                    link.download = filename;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    
                    // 短暂延迟，允许浏览器处理
                    if (i < pages.length - 1) {
                         await new Promise(resolve => setTimeout(resolve, 200));
                    }

                } catch (error) {
                    console.error(`页面 ${i+1} 截图失败:`, error);
                    alert(`页面 ${i+1} (${cleanPageTitle}) 截图失败，请检查控制台获取更多信息。`);
                }
            }
            downloadBtn.textContent = originalButtonText;
            downloadBtn.disabled = false;
            alert('所有页面已开始下载！请检查您的下载文件夹。');
        });
    </script>
</body>
</html>